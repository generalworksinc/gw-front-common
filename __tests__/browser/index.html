<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>logging browser test</title>
    <script type="importmap">
      {
        "imports": {
          "@sentry/browser": "./sentry-mock.js",
          "dayjs": "https://esm.sh/dayjs@1.11.19",
          "dayjs/plugin/utc": "https://esm.sh/dayjs@1.11.19/plugin/utc",
          "dayjs/plugin/utc.js": "https://esm.sh/dayjs@1.11.19/plugin/utc",
          "dayjs/plugin/timezone": "https://esm.sh/dayjs@1.11.19/plugin/timezone",
          "dayjs/plugin/timezone.js": "https://esm.sh/dayjs@1.11.19/plugin/timezone",
          "dayjs/plugin/isBetween": "https://esm.sh/dayjs@1.11.19/plugin/isBetween",
          "dayjs/plugin/isBetween.js": "https://esm.sh/dayjs@1.11.19/plugin/isBetween",
          "dayjs/plugin/localizedFormat": "https://esm.sh/dayjs@1.11.19/plugin/localizedFormat",
          "dayjs/plugin/localizedFormat.js": "https://esm.sh/dayjs@1.11.19/plugin/localizedFormat",
          "dayjs/plugin/duration": "https://esm.sh/dayjs@1.11.19/plugin/duration",
          "dayjs/plugin/duration.js": "https://esm.sh/dayjs@1.11.19/plugin/duration",
          "dayjs/plugin/relativeTime": "https://esm.sh/dayjs@1.11.19/plugin/relativeTime",
          "dayjs/plugin/relativeTime.js": "https://esm.sh/dayjs@1.11.19/plugin/relativeTime",
          "dayjs/locale/ja.js": "https://esm.sh/dayjs@1.11.19/locale/ja.js"
        }
      }
    </script>
  </head>
  <body>
    <script type="module">
      import { logSentryMessageWithBreadcrumb } from '../../dist/core/mod.js';

      const longString = 'a'.repeat(400);
      const longArray = Array.from({ length: 40 }, (_, i) => i);

      await logSentryMessageWithBreadcrumb({
        message: 'browser_test',
        level: 'warning',
        category: 'browser',
        reason: 'playwright',
        data: {
          longString,
          longArray,
        },
        extra: {
          longString,
        },
      });

      window.__testDone = true;
    </script>
  </body>
</html>
